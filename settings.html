<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WeatherEase — Settings</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header role="banner">
    <div class="wrap">
      <h1>WeatherEase Settings</h1>
      <nav aria-label="Primary">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="weather.html">Weather</a></li>
          <li><a href="exit.html">Exit</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="content" role="main">
    <section aria-label="Settings and Accessibility Options">
      <form aria-label="Accessibility settings" style="display:grid; gap:.75rem; max-width:600px;">
        <label><input type="checkbox" id="dark-mode"> Dark mode</label>
        <label><input type="checkbox" id="big-text"> Use larger text</label>
        <label><input type="checkbox" id="high-contrast"> High contrast</label>
        <label><input type="checkbox" id="voice"> Enable voice commands</label>

        <label>
          Units:
          <select id="unit-select">
            <option value="metric">Celsius</option>
            <option value="imperial">Fahrenheit</option>
          </select>
        </label>

        <p id="voice-status" style="margin-top:1rem; opacity:.8;">Voice status will appear here…</p>
      </form>
    </section>
  </main>

  <footer role="contentinfo">
    <div class="wrap">
      <small>&copy; <span id="year"></span> WeatherEase.</small>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="voice-control.js"></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Restore persisted dark mode
    if (localStorage.getItem('darkMode') === 'true') {
      document.body.classList.add('dark-mode');
      document.getElementById('dark-mode').checked = true;
    }

    const darkMode = document.getElementById('dark-mode');
    const bigText = document.getElementById('big-text');
    const contrast = document.getElementById('high-contrast');
    const voiceToggle = document.getElementById('voice');
    const voiceStatus = document.getElementById('voice-status');
    const unitSelect = document.getElementById('unit-select');

    darkMode?.addEventListener('change', () => {
      document.body.classList.toggle('dark-mode', darkMode.checked);
      localStorage.setItem('darkMode', darkMode.checked);
      if (voiceToggle.checked) speak(darkMode.checked ? "Dark mode enabled" : "Dark mode disabled");
    });

    bigText?.addEventListener('change', () => {
      document.documentElement.style.fontSize = bigText.checked ? '18px' : '';
      if (voiceToggle.checked) speak(bigText.checked ? "Large text enabled" : "Large text disabled");
    });

    contrast?.addEventListener('change', () => {
      document.body.style.filter = contrast.checked ? 'contrast(1.2)' : '';
      if (voiceToggle.checked) speak(contrast.checked ? "High contrast enabled" : "High contrast disabled");
    });

    voiceToggle?.addEventListener('change', () => {
      if (voiceToggle.checked) {
        speak("Voice commands enabled");
        if (typeof startVoiceRecognition === 'function') startVoiceRecognition();
      } else {
        speak("Voice commands disabled");
      }
    });

    unitSelect?.addEventListener('change', () => {
      const unit = unitSelect.value === 'metric' ? "Celsius" : "Fahrenheit";
      if (voiceToggle.checked) speak(`${unit} selected`);
    });
  </script>
</body>
</html>




